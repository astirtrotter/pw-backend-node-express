extends ../default

block content
  h1 #{title}
  table.table.table-striped.table-hover.table-responsive-md.my-4
    thead
      tr
        th(scope='col') #
        th(scope='col') Image
        th(scope='col') Name
        th(scope='col') Email
        th(scope='col') Location
        th(scope='col') Superuser
        th(scope='col') Allowed
        th(scope='col') Action
    tbody
      each usr, index in users
        tr(data-href='#')
          th(scope='row') #{index + 1}
          td(scope='row')
            img.rounded-circle(src=`/assets/users/${usr._id}.png`, alt='No Image', style='width:50px;')
          td
            span #{usr.profile.name}
            span.text-info  #{(usr._id.equals(user._id) ? '(you)' : '')}
          td #{usr.email}
          td #{usr.profile.location}
          td #{usr.meta.admin}
          td #{usr.meta.allowed}
          td
            if user.meta.admin || user._id.equals(usr._id)
              .text-danger.mr-1.fas.fa-trash-alt(onclick=`confirmDeleting('/api/users/${usr._id}/delete')`)
              a.ml-1(href=`/users/${usr._id}`)
                span.fas.fa-edit